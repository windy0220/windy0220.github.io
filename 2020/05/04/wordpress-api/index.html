<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 使用wordpress RESTfull API 制作网站的内容管理系统 · 大马的个人网站</title><meta name="description" content="使用wordpress RESTfull API 制作网站的内容管理系统 - 大马"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://bigma.cc/atom.xml" title="大马的个人网站"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/avater.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">日志</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/1000/01/01/实验室/" target="_self" class="nav-list-link">实验室</a></li><li class="nav-list-item"><a href="http://weibo.com/80yang" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/windy0220" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">使用wordpress RESTfull API 制作网站的内容管理系统</h1><div class="post-info">2020年5月4日</div><div class="post-content"><h4 id="获取分类"><a href="#获取分类" class="headerlink" title="获取分类"></a>获取分类</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/categories/分类id</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/categories?parent=父级分类id</span><br></pre></td></tr></table></figure>
<h4 id="获取文章列表"><a href="#获取文章列表" class="headerlink" title="获取文章列表"></a>获取文章列表</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认10篇</span></span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定分类</span></span><br><span class="line">categories=分类id</span><br><span class="line"></span><br><span class="line"><span class="comment"># 带特色图片和作者信息</span></span><br><span class="line">_embed=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 页码</span></span><br><span class="line">page=2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置每页返回数量(1~100)</span></span><br><span class="line">per_page=2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 偏移</span></span><br><span class="line">offset=1</span><br></pre></td></tr></table></figure>
<p>返回说明<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 集合中的记录总数</span><br><span class="line">X-WP-Total</span><br><span class="line"></span><br><span class="line"># 包含所有可用记录的总页数</span><br><span class="line">X-WP-TotalPages</span><br></pre></td></tr></table></figure></p>
<h4 id="获取文章"><a href="#获取文章" class="headerlink" title="获取文章"></a>获取文章</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts/文章id</span><br></pre></td></tr></table></figure>
<h4 id="根据标签获取文章"><a href="#根据标签获取文章" class="headerlink" title="根据标签获取文章"></a>根据标签获取文章</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts?tags=标签id</span><br></pre></td></tr></table></figure>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 指定标签的文章</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts?filter[tag]=library</span><br><span class="line"></span><br><span class="line"># 指定日期的文章</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts?filter[year]=2016&amp;filter[monthnum]=03</span><br><span class="line"></span><br><span class="line"># 指定作者的文章</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts?filter[author_name]=jinyun</span><br><span class="line"></span><br><span class="line"># 随机文章</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/posts?filter[orderby]=rand</span><br></pre></td></tr></table></figure>
<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/tags</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/tags/3</span><br></pre></td></tr></table></figure>
<h4 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/media</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/media/3</span><br></pre></td></tr></table></figure>
<h4 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/pages</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/pages/3</span><br></pre></td></tr></table></figure>
<h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/types</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/types/post</span><br></pre></td></tr></table></figure>
<h4 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/comments</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/comments/2</span><br></pre></td></tr></table></figure>
<h4 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://ex.wordpress.com/wp-json/wp/v2/users</span><br><span class="line">http://ex.wordpress.com/wp-json/wp/v2/users/2</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="必备插件"><a href="#必备插件" class="headerlink" title="必备插件"></a>必备插件</h2><h4 id="WP-China-Yes"><a href="#WP-China-Yes" class="headerlink" title="WP-China-Yes"></a>WP-China-Yes</h4><p>安装后可以解除更新和商店的封锁，可以正常更新和安装插件<br>作者站点 <a href="https://www.ibadboy.net/archives/3204.html" target="_blank" rel="noopener">https://www.ibadboy.net/archives/3204.html</a><br>git地址 <a href="https://github.com/sunxiyuan/wp-china-yes" target="_blank" rel="noopener">https://github.com/sunxiyuan/wp-china-yes</a><br>点击 clone or download 按钮，点击 Download ZIP 既可下载<br>在wordpress 后台的安装插件处 上传安装。</p>
<h4 id="高级自定义字段"><a href="#高级自定义字段" class="headerlink" title="高级自定义字段"></a>高级自定义字段</h4><p>可以给文章扩展自定义字段，可根据条件显示不同的字段</p>
<h4 id="Simple-Custom-Post-Order-amp-amp-Post-Types-Order"><a href="#Simple-Custom-Post-Order-amp-amp-Post-Types-Order" class="headerlink" title="Simple Custom Post Order &amp;&amp; Post Types Order"></a>Simple Custom Post Order &amp;&amp; Post Types Order</h4><p>文章和栏目拖拽排序，这两个插件必须都安装，才可以实现拖拽排序</p>
<h4 id="Admin-Menu-Editor"><a href="#Admin-Menu-Editor" class="headerlink" title="Admin Menu Editor"></a>Admin Menu Editor</h4><p>自定义后台的菜单目录</p>
<h4 id="WP文件管理器"><a href="#WP文件管理器" class="headerlink" title="WP文件管理器"></a>WP文件管理器</h4><p>可以管理网站的目录</p>
<h4 id="REST-API-Helper"><a href="#REST-API-Helper" class="headerlink" title="REST API Helper"></a>REST API Helper</h4><p>可以让rest api 显示出 封面图片，作者，类别，和自定义字段</p>
<h4 id="OSS-Upload"><a href="#OSS-Upload" class="headerlink" title="OSS Upload"></a>OSS Upload</h4><p>上传图片到阿里云oss</p>
<h4 id="forminator"><a href="#forminator" class="headerlink" title="forminator"></a>forminator</h4><p>强大的自定义表单插件</p>
<h4 id="forminator-1"><a href="#forminator-1" class="headerlink" title="forminator"></a>forminator</h4><p>强大的自定义表单插件</p>
<h4 id="Contact-Form-7"><a href="#Contact-Form-7" class="headerlink" title="Contact Form 7"></a>Contact Form 7</h4><p>表单插件，可支持 REST API<br><a href="http://www.yourdomain.com[你的域名]/wp-json/contact-form-7/v1/contact-forms/358[表单ID]/feedback" target="_blank" rel="noopener">http://www.yourdomain.com[你的域名]/wp-json/contact-form-7/v1/contact-forms/358[表单ID]/feedback</a></p>
<p>插件只支持发送到邮件，但可以通过 Flamingo 插件保存信息<br>说明 <a href="https://contactform7.com/save-submitted-messages-with-flamingo/" target="_blank" rel="noopener">https://contactform7.com/save-submitted-messages-with-flamingo/</a><br>在额外的设置标签下添加 [the-email-field] 为配置中的字段<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">skip_mail: on</span><br><span class="line">flamingo_email: &quot;[the-email-field]&quot;</span><br><span class="line">flamingo_name: &quot;[the-name-field]&quot;</span><br><span class="line">flamingo_subject: &quot;[the-subject-field]&quot;</span><br></pre></td></tr></table></figure></p>
<p><code>skip_mail: on</code> 为跳过邮件发送<br>启用插件后，可在目录中找到Flamingo 点击进入收件箱<br>数据保存在 <code>wp_postmeta</code> 表中</p>
<h4 id="aliyun-cdn-helper"><a href="#aliyun-cdn-helper" class="headerlink" title="aliyun-cdn-helper"></a>aliyun-cdn-helper</h4><p>刷新阿里云的cdn服务<br><a href="https://github.com/0xJacky/aliyun-cdn-helper" target="_blank" rel="noopener">https://github.com/0xJacky/aliyun-cdn-helper</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2020/05/31/new_navcat_restore_lost_table/" class="prev">PREV</a><a href="/2020/05/01/debug-nuxt/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ma-chen-cn';
var disqus_identifier = '2020/05/04/wordpress-api/';
var disqus_title = '使用wordpress RESTfull API 制作网站的内容管理系统';
var disqus_url = 'http://bigma.cc/2020/05/04/wordpress-api/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ma-chen-cn.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2023 <a href="http://bigma.cc">大马</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>. <a href="https://beian.miit.gov.cn/" target="_blank">冀ICP备13002956号-1</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-116335564-1",'auto');ga('send','pageview');</script></body></html>